<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>برنامج متابعة التحدي</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        h1 {
            text-align: center;
            color: #333;
        }
     
        /* تعديل على شريط التقدم ليتناسب مع الجمال */
.progress {
    margin: 20px 0;
    width: 100%;
    height: 30px;
    background: #ddd;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

/* شريط التقدم */
.progress-bar {
    height: 100%;
    width: 0%;
    border-radius: 20px;
    background: linear-gradient(to right, #ff4500, #ff9900, #32cd32, #1e90ff); /* تدرج لوني */
    transition: width 0.5s ease, background 0.5s ease;
}

/* نص التقدم */
#progressText {
    text-align: center;
    font-size: 18px;
    color: #333;
    margin-top: 10px;
}

        .section {
            margin: 20px 0;
        }
        textarea, input[type="text"] {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        button {
            background: linear-gradient(135deg, #a461ec, #78a0e6); /* التدرج اللوني الأساسي */
            color: white;
            padding: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
        }
        button:hover {
            background: #45a049;
        }
        ul {
            list-style: none;
            padding: 0;
        }
        li {
            padding: 10px;
            background:ffffff10;
            backdrop-filter: blur(10px);
            color: #ddd;
            border-radius: 5px;
            margin-bottom: 5px;
        }
        .completed {
            color: #4caf50;
        }
        .not-completed {
            color: #f44336;
        }
        .completed-day {
            margin-bottom: 20px;
        }
        .completed-day .date {
            font-weight: bold;
            color: #333;
        }
        .completed-day .tasks {
            margin: 5px 0;
        }
        .completed-day .tasks span {
            padding: 5px;
            margin-right: 10px;
            border-radius: 5px;
        }
        .completed-day .tasks .completed {
            background: linear-gradient(135deg, #7d1ee1, #175fda); /* التدرج اللوني الأساسي */
            color: white;
        }
        .completed-day .tasks .not-completed {
            background-color: #f44336;
            color: white;
        }
        /* شريط التنقل */
.navbar {
    background: linear-gradient(135deg, #7d1ee1, #175fda); /* التدرج اللوني الأساسي */
    padding: 10px 0;
    text-align: center;
}

.navbar ul {
    list-style: none;
    margin: 0;
    padding: 0;
}

.navbar li {
    display: inline;
    margin: 0 20px;
}

.navbar a {
    color: rgb(0, 0, 0);
    text-decoration: none;
    font-size: 18px;
    padding: 10px;
    border-radius: 5px;
}

.navbar a:hover {
    background-color: #04b4ff;
}

/* تحسين الـ UI */


.container {
  
    margin: 20px auto;
    padding: 20px;
    background: linear-gradient(135deg, #903fe6, #0a51cc); /* التدرج اللوني الأساسي */
    backdrop-filter: blur(20px);
    background-size: 200% 200%; /* زيادة حجم التدرج */
    animation: gradientAnimation 10s ease infinite;
}

@keyframes gradientAnimation {
    0% {
        background-position: 0% 50%; /* بداية التدرج */
    }
    50% {
        background-position: 100% 50%; /* منتصف الأنيميشن */
    }
    100% {
        background-position: 0% 50%; /* العودة إلى الوضع الأول */
    }
}
h1 {
    text-align: center;
    color: #333;
}

.section {
    margin: 20px 0;
}

/* شريط التقدم */
.progress {
    width: 100%;
    height: 30px;
    background: #ddd;
    border-radius: 20px;
    margin-bottom: 20px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

.progress-bar {
    height: 100%;
    width: 0%;
    background: linear-gradient(to right, #ff4500, #ff9900, #32cd32, #1e90ff);
    transition: width 0.5s ease, background 0.5s ease;
}

/* نص التقدم */
#progressText {
    text-align: center;
    font-size: 18px;
    color: #ddd9d9;
    margin-top: 10px;
}

/* نص وحقل إدخال */
textarea, input[type="text"], input[type="password"] {
    width: 100%;
    padding: 10px;
    margin: 10px 0;
    background: #ffffff10;
    backdrop-filter: blur(8px);
    border-radius: 5px;
    color: #ddd9d9;
}

button {
    background-color: #4caf50;
    color: white;
    padding: 10px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    margin-top: 10px;
}

button:hover {
    background-color: #6636a4;
}


    </style>
</head>
<body>
    <header>
        <nav class="navbar">
            <ul>
                <li><a href="folio.html">الملف الشخصي </a></li>
                
            </ul>
        </nav>
    </header>
    <div class="container">
        <!-- شريط التقدم -->
        <div id="progress" class="section">
            <h2>شريط التقدم</h2>
            <div class="progress">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            <p id="progressText">0 يوم من التقدم</p>
        </div>
    
        <!-- إضافة ملاحظة يومية -->
        <div id="notes" class="section">
            <h2>إضافة ملاحظة يومية</h2>
            <textarea id="noteInput" placeholder="أضف ملاحظتك هنا"></textarea>
            <button onclick="addNote()">حفظ الملاحظة</button>
            <ul id="noteList"></ul>
        </div>
    
        <!-- المهام اليومية -->
        <div id="tasks" class="section">
            <h2>المهام اليومية</h2>
            <ul id="taskList">
                <li><input type="checkbox" id="prayer1"> صلاة الفجر</li>
                <li><input type="checkbox" id="prayer2"> صلاة الظهر</li>
                <li><input type="checkbox" id="prayer3"> صلاة العصر</li>
                <li><input type="checkbox" id="prayer4"> صلاة المغرب</li>
                <li><input type="checkbox" id="prayer5"> صلاة العشاء</li>
            </ul>
            <p>مهام إضافية:</p>
            <textarea id="dailyTasks" placeholder="أضف مهامك هنا (افصل بينها بفاصلة)"></textarea>
            <button onclick="addTasks()">إضافة المهام</button>
            <ul id="extraTasks"></ul>
        </div>
    
        <!-- سجل الأيام المنتهية -->
        <div id="completed" class="section">
            <h2>سجل الأيام المنتهية</h2>
            <ul id="completedDaysList"></ul>
            <button onclick="addDay()">إضافة يوم جديد</button>
        </div>
    
        <!-- كلمة مرور لتفريغ البيانات -->
        <div id="clear" class="section">
            <h2>تفريغ البيانات</h2>
            <input type="password" id="password" placeholder="أدخل كلمة المرور لتفريغ البيانات">
            <button onclick="clearData()">تفريغ البيانات</button>
        </div>
    </div>
    

    <script>
        const startDate = new Date("2024-11-01"); // عدل التاريخ ليكون بداية التحدي
        const progressBar = document.getElementById("progressBar");
        const progressText = document.getElementById("progressText");
        const noteInput = document.getElementById("noteInput");
        const noteList = document.getElementById("noteList");
        const taskList = document.getElementById("taskList");
        const extraTasks = document.getElementById("extraTasks");
        const completedDaysList = document.getElementById("completedDaysList");
        const dailyTasks = document.getElementById("dailyTasks");
        const passwordInput = document.getElementById("password");

        let completedDays = JSON.parse(localStorage.getItem('completedDays')) || 0;
        let dailyNotes = JSON.parse(localStorage.getItem('dailyNotes')) || [];
        let completedDaysData = JSON.parse(localStorage.getItem('completedDaysData')) || [];

        // حساب الأيام
       // تحديث شريط التقدم مع تغيير اللون بناءً على التقدم
function updateProgress() {
    const percentage = Math.min((completedDays / 30) * 100, 100); // نسبة بناءً على 30 يوم

    // تحديث عرض شريط التقدم
    progressBar.style.width = percentage + "%";

    // تغيير الألوان تدريجيًا حسب النسبة
    if (percentage < 33) {
        progressBar.style.background = "linear-gradient(to right, #ff4500, #ff9900)"; // برتقالي إلى برتقالي غامق
    } else if (percentage < 66) {
        progressBar.style.background = "linear-gradient(to right, #ff9900, #32cd32)"; // برتقالي إلى أخضر
    } else {
        progressBar.style.background = "linear-gradient(to right, #32cd32, #1e90ff)"; // أخضر إلى أزرق
    }

    // تحديث النص الذي يظهر تحت شريط التقدم
    progressText.textContent = `${completedDays} يوم من التقدم`;
}
        updateProgress();

        // إضافة ملاحظة لليوم
        function addNote() {
            if (noteInput.value.trim() !== "") {
                const newNote = document.createElement("li");
                const today = new Date().toLocaleDateString();
                newNote.textContent = `${today}: ${noteInput.value}`;
                noteList.appendChild(newNote);
                dailyNotes.push({ date: today, note: noteInput.value });

                // حفظ الملاحظات في localStorage
                localStorage.setItem('dailyNotes', JSON.stringify(dailyNotes));

                noteInput.value = "";
            }
        }

        // إضافة المهام اليومية
        function addTasks() {
            const tasks = dailyTasks.value.split(",");
            tasks.forEach(task => {
                const newTask = document.createElement("li");
                newTask.textContent = task.trim();
                extraTasks.appendChild(newTask);
            });
            dailyTasks.value = "";
        }

        // حفظ سجل اليوم المنتهي
        function saveCompletedDay() {
            const completedDay = {
                date: new Date().toLocaleDateString(),
                tasks: [],
                notes: dailyNotes // حفظ الملاحظات المرتبطة باليوم
            };

            // حفظ المهام التي تم إنجازها
            taskList.querySelectorAll("input[type='checkbox']:checked").forEach((checkbox) => {
                completedDay.tasks.push({ task: checkbox.parentNode.textContent.trim(), completed: true });
            });

            const extraTaskItems = extraTasks.querySelectorAll("li");
            extraTaskItems.forEach((task) => {
                completedDay.tasks.push({ task: task.textContent.trim(), completed: false });
            });

            // عرض اليوم المنتهي في السجل
            const completedDayItem = document.createElement("li");
            completedDayItem.classList.add("completed-day");
            completedDayItem.innerHTML = `
                <div class="date">${completedDay.date}</div>
                <div class="tasks">
                    ${completedDay.tasks.map(task => `
                        <span class="${task.completed ? 'completed' : 'not-completed'}">${task.task}</span>
                    `).join('')}
                </div>
            `;
            completedDaysList.appendChild(completedDayItem);

            // زيادة عدد الأيام المنتهية
            completedDays++;
            updateProgress();

            // حفظ السجل في localStorage
            completedDaysData.push(completedDay);
            localStorage.setItem('completedDaysData', JSON.stringify(completedDaysData));
            localStorage.setItem('completedDays', JSON.stringify(completedDays));
        }

        // تفريغ البيانات (بعد التحقق من كلمة المرور)
        function clearData() {
            const password = passwordInput.value;
            if (password === "652002") {
                localStorage.clear(); // مسح البيانات المخزنة
                noteList.innerHTML = "";
                extraTasks.innerHTML = "";
                completedDaysList.innerHTML = "";
                completedDays = 0; // إعادة تعيين الأيام المنتهية
                dailyNotes = []; // إعادة تعيين الملاحظات
                completedDaysData = []; // إعادة تعيين السجل
                updateProgress(); // تحديث شريط التقدم
                alert("تم تفريغ البيانات بنجاح");
            } else {
                alert("كلمة المرور خاطئة");
            }
            passwordInput.value = ""; // إفراغ حقل كلمة المرور
        }

        // إضافة يوم جديد
        function addDay() {
            saveCompletedDay(); // حفظ اليوم المنتهي
            noteList.innerHTML = ""; // إفراغ ملاحظات اليوم
            extraTasks.innerHTML = ""; // إفراغ المهام
            dailyNotes = []; // إعادة تعيين الملاحظات
        }

        // استرجاع السجل عند تحميل الصفحة
        window.onload = function () {
            // استرجاع الملاحظات السابقة
            dailyNotes.forEach(note => {
                const newNote = document.createElement("li");
                newNote.textContent = `${note.date}: ${note.note}`;
                noteList.appendChild(newNote);
            });

            // استرجاع المهام السابقة
            completedDaysData.forEach(day => {
                const completedDayItem = document.createElement("li");
                completedDayItem.classList.add("completed-day");
                completedDayItem.innerHTML = `
                    <div class="date">${day.date}</div>
                    <div class="tasks">
                        ${day.tasks.map(task => `
                            <span class="${task.completed ? 'completed' : 'not-completed'}">${task.task}</span>
                        `).join('')}
                    </div>
                `;
                completedDaysList.appendChild(completedDayItem);
            });
        }
        // استرجاع السجل عند تحميل الصفحة
window.onload = function () {
    updateProgress(); // تحديث شريط التقدم عند التحميل

    // استرجاع الملاحظات السابقة
    dailyNotes.forEach(note => {
        const newNote = document.createElement("li");
        newNote.textContent = `${note.date}: ${note.note}`;
        noteList.appendChild(newNote);
    });

    // استرجاع المهام السابقة
    completedDaysData.forEach(day => {
        const completedDayItem = document.createElement("li");
        completedDayItem.classList.add("completed-day");
        completedDayItem.innerHTML = `
            <div class="date">${day.date}</div>
            <div class="tasks">
                ${day.tasks.map(task => `
                    <span class="${task.completed ? 'completed' : 'not-completed'}">${task.task}</span>
                `).join('')}
            </div>
        `;
        completedDaysList.appendChild(completedDayItem);
    });
}

    </script>
</body>
</html>
